<!DOCTYPE html>
<html lang="da">
<head>
<meta charset="UTF-8">
<title>En lille invitation ‚ù§Ô∏è</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #fff5f7;
        color: #333;
        text-align: center;
        padding: 40px;
    }
    .container {
        background: white;
        padding: 30px;
        border-radius: 12px;
        max-width: 500px;
        margin: auto;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .date-options button {
        background: #ff6b81;
        color: white;
        border: none;
        padding: 12px 20px;
        margin: 10px;
        border-radius: 10px;
        font-size: 16px;
        cursor: pointer;
        transition: 0.2s;
    }
    .date-options button:hover {
        background: #ff4d68;
        transform: scale(1.08);
    }
    #secretMessage, #quiz, #finalStep {
        display: none;
        margin-top: 20px;
    }
    .fade-in {
        animation: fadeIn 0.6s ease forwards;
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
</style>
</head>
<body>

<div class="container">
    <h1>Vil du hygge med mig p√• sofaen? ‚ù§Ô∏è</h1>

    <p>V√¶lg hvilken dag du helst vil fork√¶les</p>

    <div class="date-options">
        <button onclick="chooseDate('2026-02-21', 'En l√¶kker l√∏rdag fyldt med leg ‚ú®')">üåô 21. februar</button>
        <button onclick="chooseDate('2026-02-22', 'En s√∏ndag fyldt med k√¶rlighed üíï')">‚ú® 22. februar</button>
        <button onclick="chooseDate('2026-02-23', 'En mandag med ekstra hygge üå∏')">üíñ 23. februar</button>
    </div>

    <p id="chosenMessage" class="fade-in"></p>

    <div id="secretMessage" class="fade-in">
        <p>Jeg har en lille hemmelighed‚Ä¶ üíå</p>
        <button onclick="showQuiz()">Fort√¶l mig hemmeligheden</button>
    </div>

    <div id="quiz" class="fade-in">
        <p>Mini‚Äëquiz: Hvad gl√¶der jeg mig mest til?</p>
        <button onclick="quizAnswer(true)">At v√¶re sammen med dig ‚ù§Ô∏è</button>
        <button onclick="quizAnswer(false)">At spise snacks üòÖ</button>
    </div>

    <div id="finalStep" class="fade-in">
        <p>Du havde ret‚Ä¶ jeg gl√¶der mig mest til dig ‚ù§Ô∏è</p>
        <p>V√¶lg tidspunkt for vores date</p>
        <input id="time" type="time"><br><br>

        <p>Indtast din mailadresse</p>
        <input id="email" type="email" placeholder="Din mailadresse"><br><br>

        <button onclick="generateICS()">F√• kalenderinvitation</button>
    </div>

    <input id="chosenDate" type="hidden">
</div>

<script>
function chooseDate(date, message) {
    document.getElementById("chosenDate").value = date;

    const msg = document.getElementById("chosenMessage");
    msg.textContent = message;
    msg.classList.add("fade-in");

    document.getElementById("secretMessage").style.display = "block";
}

function showQuiz() {
    document.getElementById("quiz").style.display = "block";
}

function quizAnswer(correct) {
    if (!correct) {
        alert("Snacks er gode‚Ä¶ men ikke s√• gode som dig üòò");
        return;
    }
    document.getElementById("finalStep").style.display = "block";
}

function generateICS() {
    const email = document.getElementById("email").value;
    const date = document.getElementById("chosenDate").value;
    const time = document.getElementById("time").value;

    if (!email) {
        alert("Skriv din mailadresse f√∏rst ‚ù§Ô∏è");
        return;
    }
    if (!date) {
        alert("V√¶lg en dato f√∏rst ‚ù§Ô∏è");
        return;
    }
    if (!time) {
        alert("V√¶lg et tidspunkt ‚ù§Ô∏è");
        return;
    }

    const start = date.replace(/-/g, "") + "T" + time.replace(":", "") + "00";

    const [hour, minute] = time.split(":");
    const endHour = String(Number(hour) + 3).padStart(2, "0");
    const end = date.replace(/-/g, "") + "T" + endHour + minute + "00";

    const title = "Hyggelig dateaften";
    const description = "En romantisk aften kun for os to ‚ù§Ô∏è";
    const location = "Hjemme hos os";

    const icsContent =
`BEGIN:VCALENDAR
VERSION:2.0
BEGIN:VEVENT
SUMMARY:${title}
DESCRIPTION:${description}
LOCATION:${location}
DTSTART:${start}
DTEND:${end}
END:VEVENT
END:VCALENDAR`;

    const blob = new Blob([icsContent], { type: "text/calendar;charset=utf-8" });
    const url = URL.createObjectURL(blob);

    const a = document.createElement("a");
    a.href = url;
    a.download = "date_invitation.ics";
    a.click();

    URL.revokeObjectURL(url);
}
</script>

</body>
</html>
