<!DOCTYPE html>
<html lang="da">
<head>
<meta charset="UTF-8">
<title>En lille invitation ‚ù§Ô∏è</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #fff5f7;
        color: #333;
        text-align: center;
        padding: 40px;
        overflow-x: hidden;
        cursor: none; /* skjul musen for glitter trail */
    }

    /* Intro overlay */
    #introOverlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #fff5f7;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 32px;
        color: #ff6b81;
        z-index: 9999;
        animation: introFade 2.5s ease forwards;
    }
    @keyframes introFade {
        0% { opacity: 1; }
        80% { opacity: 1; }
        100% { opacity: 0; visibility: hidden; }
    }

    /* Loading hearts */
    #loadingHearts {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 40px;
        display: none;
        z-index: 99999;
        animation: pulse 0.6s infinite alternate;
    }
    @keyframes pulse {
        from { transform: translate(-50%, -50%) scale(1); }
        to { transform: translate(-50%, -50%) scale(1.3); }
    }

    /* Glitter trail */
    .trail {
        position: fixed;
        pointer-events: none;
        animation: fadeOut 0.8s forwards;
        font-size: 18px;
    }
    @keyframes fadeOut {
        from { opacity: 1; transform: scale(1); }
        to { opacity: 0; transform: scale(0.4); }
    }

    .container {
        background: white;
        padding: 30px;
        border-radius: 12px;
        max-width: 500px;
        margin: auto;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        position: relative;
    }

    .date-options button {
        background: #ff6b81;
        color: white;
        border: none;
        padding: 12px 20px;
        margin: 10px;
        border-radius: 10px;
        font-size: 16px;
        cursor: pointer;
        transition: 0.2s;
    }
    .date-options button:hover {
        background: #ff4d68;
        transform: scale(1.08);
    }

    #secretMessage, #quiz, #finalStep {
        display: none;
        margin-top: 20px;
    }

    .fade-in {
        animation: fadeIn 0.6s ease forwards;
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    /* Flyvende emojis */
    .floatEmoji {
        position: absolute;
        animation: floatUp 3s linear forwards;
        pointer-events: none;
    }
    @keyframes floatUp {
        from { transform: translateY(0); opacity: 1; }
        to { transform: translateY(-200px); opacity: 0; }
    }

    /* Nej-knap der flygter */
    #noBtn {
        position: relative;
        background: #aaa;
        color: white;
        padding: 10px 20px;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        margin-left: 10px;
    }
</style>
</head>
<body>

<!-- INTRO -->
<div id="introOverlay">‚ù§Ô∏è Velkommen, min skat ‚ù§Ô∏è</div>

<!-- LOADING HEARTS -->
<div id="loadingHearts">üíñüíóüíû</div>

<!-- GLITTER TRAIL -->
<div id="trailContainer"></div>

<div class="container">
    <h1>Vil du med p√• en hyggelig date? ‚ù§Ô∏è</h1>

    <p>V√¶lg hvilken dag du helst vil p√• date</p>

    <div class="date-options">
        <button onclick="chooseDate('2026-02-21', 'En perfekt l√∏rdag aften fyldt med leg ‚ú®')">üåô 21. februar</button>
        <button onclick="chooseDate('2026-02-22', 'En s√∏ndag fyldt med cuddles og film üíï')">‚ú® 22. februar</button>
        <button onclick="chooseDate('2026-02-23', 'En mandag med ekstra hygge üå∏')">üíñ 23. februar</button>
    </div>

    <p id="chosenMessage" class="fade-in"></p>

    <div id="secretMessage" class="fade-in">
        <p>Inden du skriver dig op til hygger har jeg lille quiz til dig‚Ä¶ üíå</p>
        <button onclick="showQuiz()">Okay, jeg er klar üòò</button>
    </div>

    <!-- Quiz -->
    <div id="quiz" class="fade-in">
        <p id="quizQuestion">Mini‚Äëquiz: Hvad gl√¶der jeg mig mest til?</p>

        <div id="quizButtons">
            <button onclick="quizAnswer(true)">At v√¶re sammen med dig ‚ù§Ô∏è</button>
            <button onclick="quizAnswer(false)">At spise snacks üòÖ</button>
        </div>
    </div>

    <div id="finalStep" class="fade-in">
        <p id="finalMessage">Du havde ret‚Ä¶ jeg gl√¶der mig mest til dig ‚ù§Ô∏è</p>

        <p>Vil du gerne forts√¶tte?</p>
        <button onclick="yesContinue()">Ja ‚ù§Ô∏è</button>
        <button id="noBtn" onmouseover="escapeButton()">Nej üò¢</button>

        <div id="timeAndMail" style="display:none; margin-top:20px;">
            <p>V√¶lg tidspunkt for vores date</p>
            <input id="time" type="time"><br><br>

            <p>Indtast din mailadresse</p>
            <input id="email" type="email" placeholder="Din mailadresse"><br><br>

            <button onclick="generateICS()">F√• kalenderinvitation</button>
        </div>
    </div>

    <input id="chosenDate" type="hidden">
</div>

<script>
/* INTRO HEARTS */
window.onload = () => {
    let introInterval = setInterval(spawnEmoji, 300);
    setTimeout(() => clearInterval(introInterval), 2000);
};

/* LOADING HEARTS */
function showLoading() {
    const loader = document.getElementById("loadingHearts");
    loader.style.display = "block";
    setTimeout(() => loader.style.display = "none", 1200);
}

/* FLYVENDE EMOJIS */
const emojiList = ["‚ù§Ô∏è", "üíñ", "‚ú®", "üíò", "üå∏", "üíû", "üí´"];

function spawnEmoji() {
    const emoji = document.createElement("div");
    emoji.className = "floatEmoji";
    emoji.textContent = emojiList[Math.floor(Math.random() * emojiList.length)];

    emoji.style.left = Math.random() * window.innerWidth + "px";
    emoji.style.top = "450px";
    emoji.style.fontSize = (20 + Math.random() * 20) + "px";

    document.body.appendChild(emoji);
    setTimeout(() => emoji.remove(), 3000);
}

/* GLITTER TRAIL */
document.addEventListener("mousemove", e => {
    const sparkle = document.createElement("div");
    sparkle.className = "trail";
    sparkle.textContent = emojiList[Math.floor(Math.random() * emojiList.length)];
    sparkle.style.left = e.pageX + "px";
    sparkle.style.top = e.pageY + "px";
    sparkle.style.fontSize = (10 + Math.random() * 15) + "px";
    document.body.appendChild(sparkle);
    setTimeout(() => sparkle.remove(), 800);
});

/* DATO VALGT */
function chooseDate(date, message) {
    showLoading();
    document.getElementById("chosenDate").value = date;

    const msg = document.getElementById("chosenMessage");
    msg.textContent = message;

    document.getElementById("secretMessage").style.display = "block";
    spawnEmoji();
}

/* QUIZ */
let quizStep = 0;
const quizQuestions = [
    {
        q: "Mini‚Äëquiz: Hvad gl√¶der jeg mig mest til?",
        answers: [
            { text: "At v√¶re sammen med dig ‚ù§Ô∏è", correct: true },
            { text: "At spise snacks üòÖ", correct: false }
        ]
    },
    {
        q: "Hvad er det bedste ved dig?",
        answers: [
            { text: "Dit smil üòç", correct: true },
            { text: "Dine boobs/buttüòè", correct: false }
        ]
    },
    {
        q: "Hvad holder jeg mest af?",
        answers: [
            { text: "Dig ‚ù§Ô∏è", correct: true },
            { text: "Min PC og guilden üéÆ", correct: false }
        ]
    },
    {
        q: "Hvad tiltr√¶kker mig mest om morgenen?",
        answers: [
            { text: "Cuddles med dig üòò", correct: true },
            { text: "Min kaffekop ‚òï", correct: false }
        ]
    }
];

function showQuiz() {
    showLoading();
    document.getElementById("quiz").style.display = "block";
}

function quizAnswer(correct) {
    showLoading();

    if (!correct) {
        alert("Hmm‚Ä¶ N√¶sten rigtigt, pr√∏v igen üòò");
        return;
    }

    spawnEmoji();
    quizStep++;

    if (quizStep >= quizQuestions.length) {
        document.getElementById("finalMessage").textContent =
            "Du klarede quizzen! Jeg vidste du kunne üòç";
        document.getElementById("finalStep").style.display = "block";
        return;
    }

    const q = quizQuestions[quizStep];
    document.getElementById("quizQuestion").textContent = q.q;

    const btns = document.getElementById("quizButtons");
    btns.innerHTML = "";

    q.answers.forEach(a => {
        const b = document.createElement("button");
        b.textContent = a.text;
        b.onclick = () => quizAnswer(a.correct);
        btns.appendChild(b);
    });
}

/* NEJ-KNAP */
function escapeButton() {
    const btn = document.getElementById("noBtn");
    btn.style.position = "absolute";
    btn.style.left = Math.random() * 350 + "px";
    btn.style.top = Math.random() * 250 + "px";
}

/* JA-KNAP */
function yesContinue() {
    showLoading();
    document.getElementById("timeAndMail").style.display = "block";
    spawnEmoji();
}

/* ICS-FIL */
function generateICS() {
    showLoading();

    const email = document.getElementById("email").value;
    const date = document.getElementById("chosenDate").value;
    const time = document.getElementById("time").value;

    if (!email) {
        alert("Skriv din mailadresse f√∏rst ‚ù§Ô∏è");
        return;
    }
    if (!date) {
        alert("V√¶lg en dato f√∏rst ‚ù§Ô∏è");
        return;
    }
    if (!time) {
        alert("V√¶lg et tidspunkt ‚ù§Ô∏è");
        return;
    }

    const start = date.replace(/-/g, "") + "T" + time.replace(":", "") + "00";

    const [hour, minute] = time.split(":");
    const endHour = String(Number(hour) + 3).padStart(2, "0");
    const end = date.replace(/-/g, "") + "T" + endHour + minute + "00";

    const title = "Hyggelig dateaften";
    const description = "En romantisk aften kun for os to ‚ù§Ô∏è";
    const location = "Hjemme hos os";

    const icsContent =
`BEGIN:VCALENDAR
VERSION:2.0
BEGIN:VEVENT
SUMMARY:${title}
DESCRIPTION:${description}
LOCATION:${location}
DTSTART:${start}
DTEND:${end}
END:VEVENT
END:VCALENDAR`;

    const blob = new Blob([icsContent], { type: "text/calendar;charset=utf-8" });
    const url = URL.createObjectURL(blob);

    const a = document.createElement("a");
    a.href = url;
    a.download = "date_invitation.ics";
    a.click();

    URL.revokeObjectURL(url);
}
</script>

</body>
</html>
